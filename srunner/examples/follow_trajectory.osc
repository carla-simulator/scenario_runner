import basic.osc

scenario top:
    path: Path                          # A path in the map
    path.set_map("Town10HD_Opt")        # Map to employ
    path.path_min_driving_lanes(2)      # Path should have at least two lanes

    ego_vehicle: Model3                	# Ego car
    npc1: Rubicon                       # Another car
    npc2: Rubicon                       # Anotherother car

    do parallel(duration: 18s):         # Execute the following lines in parallel

        ego_vehicle.drive(path) with:
            follow_trajectory(input_file: "ego_logs.csv")
            # follow_trajectory(points: ["x1,y1,z1,y1", "x2,y2,z2,t2", "x3,y3,z3,t3", "x4,y4,z4,t4"])

        npc1.drive(path) with:
            follow_trajectory(input_file: "npc1_logs.csv")

        npc2.drive(path) with:
            follow_trajectory(input_file: "npc2_logs.csv")
